## 资料
* [CaptureRequest 官方地址](https://developer.android.google.cn/reference/android/hardware/camera2/CaptureRequest)
* [CSDN](https://blog.csdn.net/afei__/article/details/86326991)
## 前言
CaptureRequest 主要是由3部分组成
* CaptureRequest
* CaptureRequest.builder 构造器用于通过设置不同的key 生成对象CaptureRequest对象。
* CaptureRequest.key 
## 正文

## code
### 预览
session=mCameraDevice.createCaptureSession();<br>
builder = session.getDevice().createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);
#### 开启闪光灯
````aidl
builder.set(FLASH_MODE,FLASH_MODE_TORCH);
mSession.setRepeatingRequest(builder.build(),mCaptureCallback , cameraHandler);
````
#### 关闭闪光灯
````aidl
builder.set(FLASH_MODE,FLASH_MODE_OFF);
mSession.setRepeatingRequest(builder.build(),mCaptureCallback , cameraHandler);
````
#### 色彩矫正模式 COLOR_CORRECTION_MODE
 The mode control selects how the image data is converted from the sensor's native color into linear sRGB color
 模式控制选择如何将图像数据从传感器的原始颜色转换为线性 sRGB 颜色

#### 色彩校正变换 COLOR_CORRECTION_TRANSFORM
 值在规范化范围 <code>[0, 1.0]<code>) 内，否则可能会发生裁剪 <br>
 用于从传感器 RGB 颜色空间转换为输出线性 sRGB 颜色空间的颜色变换矩阵。<p> <p>当请求 {@link CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode} 不是时，此矩阵由相机设备设置TRANSFORM_MATRIX，或者当 {@link CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode} 为 TRANSFORM_MATRIX 时直接由应用程序在请求中。<p> <p>在后一种情况下，相机设备可能会舍入矩阵以解决精度问题；最终的舍入矩阵应在此矩阵结果元数据中报告。转换应将输出颜色值的大小保持在 <code>[0, 1.0]<code> 内（假设输入颜色值在规范化范围 <code>[0, 1.0]<code> 内），否则可能会发生剪切.<p> <p>每个矩阵元素的有效范围因设备而异，但保证[-1.5, 3.0]内的值不会被裁剪。<p>

#### 色彩校正增益 COLOR_CORRECTION_GAINS
 应用于白平衡的 Bayer 原始颜色通道的增益。<p> <p>当请求 {@link CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode} 不是 TRANSFORM_MATRIX 时，这些每通道增益由相机设备设置，或直接由当 {@link CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode} 为 TRANSFORM_MATRIX 时，请求中的应用程序。<p> <p>结果元数据中的增益是相机设备实际应用于当前帧的增益。<p> < p>增益的有效范围因设备而异，但保证[1.0, 3.0]之间的增益不会被削波。即使给定的设备允许增益低于 1.0，通常也不建议这样做，因为这会产生颜色伪影
#### 色彩校正像差模式 COLOR_CORRECTION_ABERRATION_MODE
 色差校正算法的操作模式。<p> <p>色差（颜色）是由于不同波长的光从镜头出射后不能聚焦在同一点上造成的。此元数据定义了色差校正算法的高级控制，旨在最大限度地减少图像中沿对象边界可能出现的色伪。<p> <p>FASTHIGH_QUALITY 都意味着将应用相机设备确定的像差校正。 HIGH_QUALITY 模式表示相机设备将使用最高质量的像差校正算法，即使它会降低捕获率。 FAST 表示相机设备在应用像差校正时不会降低捕捉速度。<p> <p>LEGACY 设备将始终处于 FAST 模式
#### 控制曝光抗条带模式？ CONTROL_AE_ANTIBANDING_MODE
 相机设备的自动曝光算法的反带补偿所需的设置。<p> <p>某些类型的照明设备，例如某些荧光灯，会以电源频率（60Hz 或 50Hz，取决于国家/地区）的速率闪烁.虽然这通常不会被人注意到，但它可以被相机设备看到。如果相机将其曝光时间设置为错误的值，则闪烁可能会在取景器中以闪烁的形式出现，或者在最终捕获的图像中显示为图像上的一组可变亮度带。<p> <p>因此，相机设备的自动曝光例程包括确保所选曝光值不会导致此类条带的防条带例程。曝光时间的选择取决于相机设备可以自动检测到的闪烁率，或者应用程序可以使用此控件选择预期的频率。<p> <p>给定的相机设备可能不支持所有antibanding 模式的可能选项。 {@link CameraCharacteristicsCONTROL_AE_AVAILABLE_ANTIBANDING_MODES android.control.aeAvailableAntibandingModes} 键包含给定相机设备的可用模式。<p> <p>如果在给定相机设备上可用，则默认为自动模式。当 AUTO 模式不可用时，默认为 50HZ 或 60HZ，50HZ 和 60HZ 都可用。<p> <p>如果启用手动曝光控制（通过设置 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode}或 {@link CaptureRequestCONTROL_MODE android.control.mode} 设置为 OFF），则此设置无效，应用程序必须确保选择不会导致条带问题的曝光时间。 {@link CaptureResultSTATISTICS_SCENE_FLICKER android.statistics.sceneFlicker} 键可以在这方面协助应用程序
#### 控制曝光曝光补偿 CONTROL_AE_EXPOSURE_COMPENSATION
调整自动曝光 (AE) 目标图像亮度。<p> <p>调整以步数计算，步长由 {@link CameraCharacteristicsCONTROL_AE_COMPENSATION_STEP android.control.aeCompensationStep} 定义，允许范围由 { @link CameraCharacteristicsCONTROL_AE_COMPENSATION_RANGE android.control.aeCompensationRange}.<p> <p>例如，如果曝光值 (EV) 步长为 0.333，则“6”表示曝光补偿为 +2 EV； -3 表示 -1 EV 的曝光补偿。一个 EV 代表图像亮度加倍。请注意，此控件仅在 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} <code>!=<code> OFF 时有效。即使在 {@link CaptureRequestCONTROL_AE_LOCK android.control.aeLock} <code>== true<code>.<p> <p>如果曝光补偿值发生变化，相机设备可能需要几帧才能生效。达到新要求的曝光目标。在此期间，{@link CaptureResultCONTROL_AE_STATE android.control.aeState} 字段将处于 SEARCHING 状态。一旦达到新的曝光目标，{@link CaptureResultCONTROL_AE_STATE android.control.aeState} 将从 SEARCHING 更改为 CONVERGED、LOCKED（如果启用了 AE 锁定）或 FLASH_REQUIRED（如果场景太暗而无法捕捉）。< p> <p><b>单位<b>：补偿步骤<p> <p><b>有效值范围：<b><br> {@link CameraCharacteristicsCONTROL_AE_COMPENSATION_RANGE android.control.aeCompensationRange}<p> <p >此密钥适用于所有设备
#### 控制自动曝光锁 CONTROL_AE_LOCK
自动曝光 (AE) 当前是否锁定为其最新计算值。<p> <p>当设置为 <code>true<code> (ON) 时，AE 算法锁定为其最新参数，并且不会更改曝光设置，直到锁定设置为 <code>false<code> (OFF)。<p> <p>请注意，即使 AE 被锁定，如果 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode}为 ON_AUTO_FLASH ON_ALWAYS_FLASH ON_AUTO_FLASH_REDEYE。<p> <p>当 {@link CaptureRequestCONTROL_AE_EXPOSURE_COMPENSATION android.control.aeExposureCompensation} 更改时，即使 AE 锁定为 ON，相机设备仍会调整其曝光值。<p> <p>如果当 AE 已锁定时，触发 AE 预捕获（参见 {@link CaptureRequestCONTROL_AE_PRECAPTURE_TRIGGER android.control.aePrecaptureTrigger}），相机设备不会更改曝光时间（{@link CaptureRequestSENSOR_EXPOSURE_TIME android.sensor.exposureTime}）和灵敏度（{@link CaptureRequestSENSOR_SENSITIVITY android.senso r.sensitivity}) 参数。如果 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 为 ON_AUTO_FLASHON_AUTO_FLASH_REDEYE 并且场景太暗，闪光灯可能会被触发。如果 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 为 ON_ALWAYS_FLASH，场景可能会过度曝光。类似地，AE 预捕获触发 CANCEL 在 AE 已被锁定时无效。<p> <p>当触发 AE 预捕获序列时，如果 AE 在预捕获期间被相机设备内部锁定，则 AE 解锁将无法解锁 AE测光序列 换句话说，使用 AE 解锁提交请求对正在进行的预捕获测光序列没有影响。否则，在 AE 锁定始终设置为 <code>false<code> 的一系列预览请求中，预捕获测光序列将永远不会成功。<p> <p>由于相机设备具有正在进行的请求管道，因此被锁定的设置不一定与从相机设备接收到的最新捕获结果中的设置相对应，因为甚至在发送结果之前可能已经发生了额外的捕获和 AE 更新。如果应用程序在自动和手动控制之间切换并希望在切换过程中消除任何闪烁，建议执行以下步骤：<p> <ol> <li>以自动 AE 模式启动：<li> <li>锁定 AE <li> <li>等待第一个锁定 AE 的结果输出<li> <li>将该结果中的曝光设置复制到请求中，将请求设置为手动 AE<li> <li>提交捕获请求，根据需要继续运行手动 AE。<li> <ol> <p>请参阅 {@link CaptureResultCONTROL_AE_STATE android.control.aeState} 了解 AE 锁定相关的状态转换详细信息。<p> <p>此键适用于所有设备。<p>
#### 控制曝光模式 CONTROL_AE_MODE
相机设备的自动曝光例程所需的模式。<p> <p>此控件仅在 {@link CaptureRequestCONTROL_MODE android.control.mode} 为 AUTO 时有效。<p> <p>当设置为任何 ON 时模式下，启用相机设备的自动曝光例程，覆盖应用程序选择的曝光时间、传感器灵敏度和帧持续时间（{@link CaptureRequestSENSOR_EXPOSURE_TIME android.sensor.exposureTime}、{@link CaptureRequestSENSOR_SENSITIVITY android.sensor.sensitivity} 和 { @link CaptureRequestSENSOR_FRAME_DURATION android.sensor.frameDuration}）。如果选择了其中一种 FLASH 模式，则相机设备的闪光灯控制也将被覆盖。<p> <p>仅当相机设备具有闪光灯时（{@link CameraCharacteristicsFLASH_INFO_AVAILABLE android.flash.info. available} 为 <code>true<code>)。<p> <p>如果需要 flash TORCH 模式，则必须将此字段设置为 ON 或 OFF，并将 {@link CaptureRequestFLASH_MODE android.flash.mode} 设置为 TORCH。 <p> <p>当设置为任何 ON 模式时，相机设备自动曝光例程为给定捕获的覆盖字段选择的值将在其 CaptureResult 中可用。
#### 控制曝光区域(控制曝光区域列表？) CONTROL_AE_REGIONS
用于自动曝光调整的测光区域列表。<p> <p>如果 {@link CameraCharacteristicsCONTROL_MAX_REGIONS_AE android.control.maxRegionsAe} 为 0，则不可用。否则将始终存在。<p> <p>最大数量设备支持的区域由 {@link CameraCharacteristicsCONTROL_MAX_REGIONS_AE android.control.maxRegionsAe} 的值确定。<p> <p>对于不支持 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控制的设备，坐标系始终遵循{@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 (0,0) 是活动像素阵列中的左上角像素，并且 ({@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.width - 1 , {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.height - 1) 是活动像素阵列中的右下角像素。<p> <p>对于设备移植 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控件，坐标系取决于设置的模式。当畸变校正模式关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}，其中 <code>(0, 0)<code> 为预校正活动阵列的左上角像素, 和 ({@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}.width - 1, {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}.height - 1) 是预校正中的右下角像素大批。当畸变校正模式未关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 <code>(0, 0)<code> 为活动阵列的左上角像素，并且({@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.width - 1, {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.height - 1) 是活动像素阵列中右下角的像素。<p> <p>权重必须在 <code>[0, 1000]<code> 范围内，表示区域内每个像素的权重。这意味着与较小区域具有相同重量的大测光区域将对测光结果产生更大的影响。测光区域可以部分重叠，相机设备会在重叠区域添加权重。<p> <p>权重是相对于其他曝光测光区域的权重，所以如果只使用一个区域，所有非零权重将有同样的效果。忽略权重为 0 的区域。<p> <p>如果所有区域的权重都为 0，则相机设备不需要使用特定的测光区域。<p> <p>如果测光区域超出使用的 { @link CaptureRequestSCALER_CROP_REGION android.scaler.cropRegion} 在捕获结果元数据中返回，相机设备将忽略裁剪区域之外的部分，仅输出相交矩形作为结果元数据中的测光区域。如果该区域完全在裁剪区域之外，它将被忽略并且不会在结果元数据中报告。<p> <p><b>单位<b>：{@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize 内的像素坐标} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p><b>有效值范围：<b><br>坐标必须在<code>[( 0,0), (width, height))<code> 的 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null}。
#### 控制曝光目标 FPS 范围 CONTROL_AE_TARGET_FPS_RANGE
自动曝光例程可以调整捕获帧速率以保持良好曝光的范围。<p> <p>仅限制自动曝光 (AE) 算法，不限制 {@link CaptureRequestSENSOR_EXPOSURE_TIME android.sensor.exposureTime} 的手动控制和{@link CaptureRequestSENSOR_FRAME_DURATION android.sensor.frameDuration}.<p> <p><b>单位<b>：每秒帧数 (FPS)<p> <p><b>有效值范围：<b><br > {@link CameraCharacteristicsCONTROL_AE_AVAILABLE_TARGET_FPS_RANGES android.control.aeAvailableTargetFpsRanges} 中的任何条目<p> <p>此密钥适用于所有设备。
#### 控制曝光预捕获触发器 CONTROL_AE_PRECAPTURE_TRIGGER
相机设备在处理此请求时是否会触发预捕获测光序列。<p> <p>此条目通常设置为 IDLE，或者根本不包含在请求设置中。包含并设置为 START 时，相机设备将触发自动曝光 (AE) 预捕获测光序列。<p> <p>设置为 CANCEL 时，相机设备将取消任何活动的预捕获测光触发器，并返回其初始状态AE 状态。如果预捕获测光序列已经完成，并且相机设备已隐式锁定 AE 以进行后续静止捕获，则 CANCEL 触发器将解锁 AE 并返回其初始 AE 状态。<p> <p>应触发预捕获序列在开始高质量静态捕捉以做出最终测光决定之前，以及在启用闪光灯时触发预捕捉闪光脉冲以估计场景亮度和所需的最终捕捉闪光功率。<p> <p>通常，这entry 应设置为 START 仅针对单个请求，并且应用程序应等待序列完成后再开始新的请求。<p> <p>当预捕获测光序列完成时，相机设备可能会锁定自动曝光内部例程能够准确地公开后续的静态捕获图像（<code>{@link CaptureRequestCONTROL_CAPTURE_INTENT android.control.captureIntent} == STILL_CAPTURE<code>）。对于这种情况，如果没有提交后续静止捕获，AE 可能无法恢复正常扫描。为确保 AE 例程重新开始正常扫描，应用程序应提交一个带有 <code>{@link CaptureRequestCONTROL_AE_LOCK android.control.aeLock} == true<code> 的请求，然后是一个带有 <code>{@link CaptureRequestCONTROL_AE_LOCK android 的请求.control.aeLock} == false<code>，如果应用程序决定在预捕获序列完成后不提交静止捕获请求。或者，对于 API 级别 23 或更新的设备，如果应用程序在 AE 预捕获触发后未提交静止捕获请求，则可以使用 CANCEL 解锁相机设备内部锁定的 AE。请注意，CANCEL 是在 API 级别 23 中添加的，不得用于具有更早 API 级别的设备。<p> <p>自动曝光 (AE) 预捕获触发的确切效果取决于当前的 AE 模式和状态;请参阅 {@link CaptureResultCONTROL_AE_STATE android.control.aeState} 了解 AE 预捕获状态转换的详细信息。<p> <p>在 LEGACY 级别的设备上，不支持预捕获触发器；捕获高分辨率 JPEG 图像将在高分辨率捕获之前自动触发预捕获序列，包括可能触发预捕获闪光灯。<p> <p>使用预捕获触发器和自动对焦触发器 {@link CaptureRequestCONTROL_AF_TRIGGER android .control.afTrigger} 同时是允许的。但是，由于这些触发器通常需要自动对焦和自动曝光例程之间的协作（例如，可能需要启用对焦扫描），因此相机设备可能会延迟对后面的触发器进行操作，直到前一个触发器被触发。完全处理。例如，这可能会导致触发和更改 {@link CaptureResultCONTROL_AE_STATE android.control.aeState} 之间的间隔更长，指示预捕获序列的开始。<p> <p>如果预捕获和自动对焦触发器都根据相同的请求激活，然后相机设备将按照该设备的最佳顺序完成它们
#### 自动对焦模式控制 CONTROL_AF_MODE
当前是否启用了自动对焦（AF），设置为什么模式。<p> <p>仅在{@link CaptureRequestCONTROL_MODE android.control.mode} = AUTO 且镜头不固定焦距（即<代码>{@link CameraCharacteristicsLENS_INFO_MINIMUM_FOCUS_DISTANCE android.lens.info.minimumFocusDistance} > 0<code>）。另请注意，当 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 为 OFF 时，AF 的行为取决于设备。建议在将 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 设置为 OFF 之前使用 {@link CaptureRequestCONTROL_AF_TRIGGER android.control.afTrigger} 锁定 AF，或者在 AE 关闭时将 AF 模式设置为 OFF。<p> <p>如果镜头由相机设备自动对焦算法控制，相机设备将在结果元数据的{@link CaptureResultCONTROL_AF_STATE android.control.afState}中报告当前的AF状态
#### 自动对焦区域控制 CONTROL_AF_REGIONS
用于自动对焦的测光区域列表。<p> <p>如果 {@link CameraCharacteristicsCONTROL_MAX_REGIONS_AF android.control.maxRegionsAf} 为 0，则不可用。否则将始终存在。<p> <p>最大对焦数设备支持的区域由 {@link CameraCharacteristicsCONTROL_MAX_REGIONS_AF android.control.maxRegionsAf} 的值确定。<p> <p>对于不支持 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控制的设备，坐标系始终遵循{@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 (0,0) 是活动像素阵列中的左上角像素，并且 ({@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.width - 1 , {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.height - 1) 是活动像素阵列中右下角的像素。<p> <p>对于支持 {@链接 CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控件，坐标系取决于设置的模式。当畸变校正模式关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}，其中 <code>(0, 0)<code> 为预校正活动阵列的左上角像素, 和 ({@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}.width - 1, {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}.height - 1) 是预校正中的右下角像素大批。当畸变校正模式未关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 <code>(0, 0)<code> 为活动阵列的左上角像素，并且({@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.width - 1, {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.height - 1) 是活动像素阵列中右下角的像素。<p> <p>权重必须在 <code>[0, 1000]<code> 范围内，表示区域内每个像素的权重。这意味着与较小区域具有相同重量的大测光区域将对测光结果产生更大的影响。测光区域可以部分重叠，相机设备会在重叠区域添加权重。<p> <p>权重是相对于其他测光区域的权重，所以如果只使用一个区域，所有非零权重都会有同样的效果。忽略权重为 0 的区域。<p> <p>如果所有区域的权重均为 0，则相机设备无需使用特定的测光区域。捕获结果也将是零权重区域，或者是相机设备选择的区域作为感兴趣的焦点区域。<p> <p>如果测光区域在使用的 {@link CaptureRequestSCALER_CROP_REGION android.scaler.在捕获结果元数据中返回cropRegion}，相机设备将忽略裁剪区域之外的部分，仅输出相交矩形作为结果元数据中的测光区域。如果该区域完全在裁剪区域之外，它将被忽略并且不会在结果元数据中报告。<p> <p><b>单位<b>：{@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize 内的像素坐标} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p><b>有效值范围：<b><br>坐标必须在<code>[( 0,0), (width, height))<code> 的 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null} 
#### 触发自动对焦控制 CONTROL_AF_TRIGGER
相机设备是否会为此请求触发自动对焦。<p> <p>此条目通常设置为 IDLE，或者根本不包含在请求设置中。<p> <p>当包含并设置为 START 时，相机设备将触发自动对焦算法。如果禁用自动对焦，则此触发器无效。<p> <p>当设置为 CANCEL 时，相机设备将取消任何激活的触发器，并返回其初始 AF 状态。<p> <p>通常，应用程序应设置此项为 START 或 CANCEL 仅用于单次捕获，然后将其返回到 IDLE（或根本不设置）。为连续的多个捕获指定 START 意味着一遍又一遍地重新启动 AF 操作。<p> <p>请参阅 {@link CaptureResultCONTROL_AF_STATE android.control.afState} 了解触发器对每种 AF 模式的含义。<p> <p >允许同时使用自动对焦触发器和预捕获触发器 {@link CaptureRequestCONTROL_AE_PRECAPTURE_TRIGGER android.control.aePrecaptureTrigger}。但是，由于这些触发器通常需要自动对焦和自动曝光例程之间的协作（例如，可能需要启用对焦扫描），因此相机设备可能会延迟对后面的触发器进行操作，直到前一个触发器被触发。完全处理。例如，这可能会导致触发和更改 {@link CaptureResultCONTROL_AF_STATE android.control.afState} 之间的间隔更长 
#### 控制锁定自动白平衡 CONTROL_AWB_LOCK
自动白平衡 (AWB) 当前是否锁定为其最新计算值。<p> <p>当设置为 <code>true<code> (ON) 时，AWB 算法锁定为其最新参数，并且不会更改色彩平衡设置，直到锁定设置为 <code>false<code> (OFF)。<p> <p>由于相机设备有一个正在进行的请求管道，被锁定的设置不一定对应于从相机设备接收到的最新捕获结果中存在的设置，因为甚至在发送结果之前可能已经发生了额外的捕获和 AWB 更新。如果应用程序在自动和手动控制之间切换并希望在切换过程中消除任何闪烁，建议执行以下步骤：<p> <ol> <li>以自动 AWB 模式启动：<li> <li>锁定 AWB <li> <li>等待第一个锁定 AWB 的结果输出<li> <li>将该结果中的 AWB 设置复制到请求中，将请求设置为手动 AWB<li> <li>提交捕获请求，根据需要继续运行手动 AWB。<li> <ol> <p>请注意，AWB 锁定仅在 {@link CaptureRequestCONTROL_AWB_MODE android.control.awbMode} 处于 AUTO 模式时才有意义；在其他模式下，AWB 已固定为特定设置。<p> <p>某些 LEGACY 设备可能不支持 ON；然后该值被覆盖为 OFF。<p> <p>此键在所有设备上都可用。<
#### 控制白平衡模式 CONTROL_AWB_MODE
自动白平衡 (AWB) 当前是否设置颜色变换字段，以及它的照明目标是什么。<p> <p>此控件仅在 {@link CaptureRequestCONTROL_MODE android.control.mode} 为 AUTO 时有效。<p > <p>当设置为 ON 模式时，相机设备的自动白平衡例程被启用，覆盖应用程序选择的 {@link CaptureRequestCOLOR_CORRECTION_TRANSFORM android.colorCorrection.transform}、{@link CaptureRequestCOLOR_CORRECTION_GAINS android.colorCorrection.gains} 和 {@链接 CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode}。请注意，当 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 为 OFF 时，AWB 的行为取决于设备。建议在将 AE 模式设置为 OFF 之前，也将 AWB 模式设置为 OFF 或使用 {@link CaptureRequestCONTROL_AWB_LOCK android.control.awbLock} 锁定 AWB。<p> <p>当设置为 OFF 模式时，相机设备的自动白平衡程序被禁用。应用程序通过 {@link CaptureRequestCOLOR_CORRECTION_TRANSFORM android.colorCorrection.transform}、{@link CaptureRequestCOLOR_CORRECTION_GAINS android.colorCorrection.gains} 和 {@link CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode} 手动控制白平衡。<p> <p>设置为在任何其他模式下，相机设备的自动白平衡程序都会被禁用。相机设备使用每个特定的照明目标进行白平衡调整。应用程序的 {@link CaptureRequestCOLOR_CORRECTION_TRANSFORM android.colorCorrection.transform}、{@link CaptureRequestCOLOR_CORRECTION_GAINS android.colorCorrection.gains} 和 {@link CaptureRequestCOLOR_CORRECTION_MODE android.colorCorrection.mode} 的值被忽略
#### 控制白平衡区域 CONTROL_AWB_REGIONS
用于自动白平衡光源估计的测光区域列表。<p> <p>如果 {@link CameraCharacteristicsCONTROL_MAX_REGIONS_AWB android.control.maxRegionsAwb} 为 0，则不可用。否则将始终存在。<p> <p>设备支持的最大区域数由 {@link CameraCharacteristicsCONTROL_MAX_REGIONS_AWB android.control.maxRegionsAwb} 的值确定。<p> <p>对于不支持 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控件的设备，坐标系始终遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 (0,0) 是活动像素阵列中的左上角像素，并且 ({@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}。 width - 1, {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.height - 1) 是活动像素阵列中右下角的像素。<p > <p>对于支持 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控制的设备，坐标系取决于设置的模式。当畸变校正模式关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}，其中 <code>(0, 0)<code> 为预校正活动阵列的左上角像素, 和 ({@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}.width - 1, {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}.height - 1) 是预校正中的右下角像素大批。当畸变校正模式未关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 <code>(0, 0)<code> 为活动阵列的左上角像素，并且({@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.width - 1, {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}.height - 1) 是活动像素阵列中右下角的像素。<p> <p>权重必须在 0 到 1000 的范围内，表示区域中每个像素的权重。这意味着与较小区域具有相同重量的大测光区域将对测光结果产生更大的影响。测光区域可以部分重叠，相机设备会在重叠区域添加权重。<p> <p>权重是相对于其他白平衡测光区域的权重，所以如果只使用一个区域，所有非零权重会有同样的效果。忽略权重为 0 的区域。<p> <p>如果所有区域的权重都为 0，则相机设备不需要使用特定的测光区域。<p> <p>如果测光区域超出使用的 { @link CaptureRequestSCALER_CROP_REGION android.scaler.cropRegion} 在捕获结果元数据中返回，相机设备将忽略裁剪区域之外的部分，仅输出相交矩形作为结果元数据中的测光区域。如果该区域完全在裁剪区域之外，它将被忽略并且不会在结果元数据中报告。<p> <p><b>单位<b>：{@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize 内的像素坐标} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p><b>有效值范围：<b><br>坐标必须在<code>[( 0,0), (width, height))<code> 的 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null}。
#### 控制捕获意图 CONTROL_CAPTURE_INTENT
向相机设备 3A（自动曝光、自动对焦、自动白平衡）例程提供有关此捕获目的的信息，以帮助相机设备确定最佳 3A 策略。<p> <p>此控制（除了MANUAL) 仅在 <code>{@link CaptureRequestCONTROL_MODE android.control.mode} != OFF<code> 并且任何 3A 例程处于活动状态时才有效。<p> <p>所有设备都支持所有意图，除了：ZERO_SHUTTER_LAG如果 {@link CameraCharacteristicsREQUEST_AVAILABLE_CAPABILITIES android.request.availableCapabilities} 包含 PRIVATE_REPROCESSING 或 YUV_REPROCESSING，将被支持。如果 {@link CameraCharacteristicsREQUEST_AVAILABLE_CAPABILITIES android.request.availableCapabilities} 包含 MANUAL_SENSOR，则支持 MANUAL。如果 {@link CameraCharacteristicsREQUEST_AVAILABLE_CAPABILITIES android.request.availableCapabilities} 包含 MOTION_TRACKING 将支持 MOTION_TRACKING
#### 控制效果模式 CONTROL_EFFECT_MODE
要应用的特殊颜色效果。<p> <p>设置此模式后，将对相机设备生成的图像应用颜色效果。这些颜色效果的解释和实现留给相机设备的实现者，不应依赖于在所有设备上保持一致（或存在）
#### 控制模式 CONTROL_MODE
3A（自动曝光、自动白平衡、自动对焦）控制程序的整体模式。<p> <p>这是一个顶级的3A控制开关。当设置为 OFF 时，相机设备的所有 3A 控制均被禁用。应用程序必须自己设置捕获参数的字段。<p> <p>当设置为 AUTO 时，单独的算法控制在 android.control。生效，例如 {@link CaptureRequestCONTROL_AF_MODE android.control.afMode}。<p> <p>当设置为 USE_SCENE_MODE 时，android.control 中的各个控件。大部分被禁用，并且相机设备根据需要实现其中一种场景模式设置（例如 ACTION、SUNSET 或 PARTY）。摄像头设备场景模式 3A 设置由 {@link android.hardware.camera2.CaptureResult 捕获结果}提供。<p> <p>设置为OFF_KEEP_STATE时，与OFF模式类似，唯一不同的是这一帧会不被相机设备使用后台 3A 统计更新，就好像这一帧从未被捕获。该模式可用于应用程序不希望手动3A 控制捕获影响后续自动3A 捕获结果的场景。
#### 控制场景模式 CONTROL_SCENE_MODE
控制当前处于活动状态的场景模式。<p> <p>场景模式是针对特定条件和捕捉设置优化的自定义相机模式。<p> <p>这是在 <code> 时处于活动状态的模式{@link CaptureRequestCONTROL_MODE android.control.mode} == USE_SCENE_MODE<code>。除了 FACE_PRIORITY，这些模式将在使用时禁用 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode}、{@link CaptureRequestCONTROL_AWB_MODE android.control.awbMode} 和 {@link CaptureRequestCONTROL_AF_MODE android.control.afMode}。<p> <p >这些场景模式的解释和实现留给相机设备的实现者。它们的行为不会在所有设备上保持一致，并且任何给定的设备可能只实现这些模式的一个子集。
#### 控制视频稳定模式 CONTROL_VIDEO_STABILIZATION_MODE
视频稳定是否处于活动状态。<p> <p>视频稳定会自动扭曲来自相机的图像，以稳定连续帧之间的运动。<p> <p>如果启用，视频稳定可以修改 {@link CaptureRequestSCALER_CROP_REGION android.scaler .cropRegion} 以保持视频流稳定。<p> <p>在不同的视频稳定模式之间切换可能需要几帧来初始化，相机设备将在捕获结果元数据中报告当前模式。例如，当请求“ON”模式时，前几次捕获结果中的视频稳定模式可能仍为“OFF”，初始化完成后将变为“ON”。<p> <p>另外，并非所有记录大小或帧速率都可以由报告稳定支持的设备支持稳定。如果录制分辨率小于或等于 1920 x 1080（宽度小于或等于 1920，高度小于或等于 1080），并且录制帧率，则可以保证针对 MediaRecorder 或 MediaCodec 的输出将稳定小于或等于 30fps。在其他尺寸下，如果录制输出不稳定，或者没有可以稳定的输出表面类型，则 CaptureResult {@link CaptureRequestCONTROL_VIDEO_STABILIZATION_MODE android.control.videoStabilizationMode} 字段将返回 OFF。<p> <p>如果相机设备同时支持此模式和 OIS ({@link CaptureRequestLENS_OPTICAL_STABILIZATION_MODE android.lens.opticalStabilizationMode})，同时开启这两种模式可能会产生不良交互，因此建议不要同时开启这两种模式。
#### 控制后原始灵敏度提升 CONTROL_POST_RAW_SENSITIVITY_BOOST
捕获 RAW 传感器数据后应用于输出图像的额外灵敏度提升量。<p> <p>某些相机设备支持在捕获传感器 RAW 图像后在相机处理管道中进行额外的数字灵敏度提升。这种提升将应用于 YUVJPEG 格式的输出图像，但不会影响 RAW_SENSOR、RAW10、RAW12 或 RAW_OPAQUE 等 RAW 输出格式。<p> <p>对于执行以下操作的设备，此键将为 <code>null<code>不支持任何RAW格式输出。对于支持 RAW 格式输出的设备，此键将始终存在，如果设备不支持后 RAW 灵敏度提升，它将在此键中列出 <code>100<code>。<p> <p>如果相机设备无法应用请求的确切提升，它会将提升降低到最接近的支持值。使用的最终提升值将在输出捕获结果中提供。<p> <p>对于支持后 RAW 灵敏度提升的设备，此类设备的 YUVJPEG 输出图像将具有 <code>{@link CaptureRequestSENSOR_SENSITIVITY android 的总灵敏度.sensor.sensitivity} {@link CaptureRequestCONTROL_POST_RAW_SENSITIVITY_BOOST android.control.postRawSensitivityBoost} 100<code> RAW格式图片的敏感度会一直是<code>{@link CaptureRequestSENSOR_SENSITIVITY android.sensor.sensitive}<code><p> <p>此控件仅在 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 或 {@link CaptureRequestCONTROL_MODE android.control.mode} 设置为 OFF 时有效；否则自动曝光算法将覆盖此值。<p> <p><b>Units<b>：ISO 算术单位，与 {@link CaptureRequestSENSOR_SENSITIVITY android.sensor.sensitivity}<p> 相同
#### 控制启用零快门延迟模式 CONTROL_ENABLE_ZSL
允许相机设备为具有 {@link CaptureRequestCONTROL_CAPTURE_INTENT android.control.captureIntent} == STILL_CAPTURE.<p> <p>如果 enableZsl 为 <code>true<code> 的请求启用零快门延迟模式，相机设备可以启用具有 STILL_CAPTURE 捕获意图的请求的零快门延迟模式。相机设备可以使用过去捕获的图像来产生用于零快门延迟请求的输出图像。包含 {@link CaptureResultSENSOR_TIMESTAMP android.sensor.timestamp} 的结果元数据反映了用于生成输出图像的源帧。因此，与之前的常规请求相比，输出图像的内容和结果元数据可能会出现乱序。 enableZsl 不会影响具有其他捕获意图的请求。<p> <p>例如，当按以下顺序提交请求时：请求 A：enableZsl 为 ON，{@link CaptureRequestCONTROL_CAPTURE_INTENT android.control.captureIntent} 为 PREVIEW 请求 B： enableZsl 为 ON，{@link CaptureRequestCONTROL_CAPTURE_INTENT android.control.captureIntent} 为 STILL_CAPTURE<p> <p>请求 B 的输出图像可能在请求 A 的输出图像之前捕获内容，请求 B 的结果元数据可能更旧比请求 A 的结果元数据。<p> <p>请注意，当 enableZsl 为 <code>true<code> 时，不能保证为具有 STILL_CAPTURE 捕获意图的请求获取过去捕获的输出图像。<p> < p>对于面向 SDK 版本 O 及更高版本的应用程序，TEMPLATE_STILL_CAPTURE 模板中的 enableZsl 的值可能为 <code>true<code>。如果存在，其他模板中的值始终为 <code>false<code>。<p> <p>对于针对早于 O 的 SDK 版本的应用程序，所有捕获模板中的 enableZsl 值始终为 <code>false<code> 如果<p> <p>对于应用程序操作的 ZSL，使用 CAMERA3_TEMPLATE_ZERO_SHUTTER_LAG 模板。<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null}
#### 边缘增强的操作模式 EDGE_MODE
边缘增强的操作模式。<p> <p>边缘增强可提高捕获图像的清晰度和细节。 OFF 表示相机设备不会应用任何增强功能。<p> <p>FASTHIGH_QUALITY 都表示相机设备确定的增强功能将被应用。 HIGH_QUALITY 模式表示相机设备将使用最高质量的增强算法，即使它会降低捕获率。 FAST 意味着相机设备在应用边缘增强时不会降低捕捉速度。如果边缘增强会减慢捕获率，FAST 可能与 OFF 相同。每个输出流都将应用类似数量的增强。<p> <p>ZERO_SHUTTER_LAG 旨在供在预览期间保持高分辨率图像的连续循环缓冲区并将该缓冲区中的图像重新处理为由用户触发时的最终捕获。在此模式下，相机设备将边缘增强应用于低分辨率流（低于最大录制分辨率）以最大化预览质量，但不会将边缘增强应用于高分辨率流，因为稍后将在必要时重新处理这些流。<p> <p>对于 YUV_REPROCESSING，这些 FASTHIGH_QUALITY 模式都意味着相机设备将分别应用 FASTHIGH_QUALITY YUV 域边缘增强。如果设置了 {@link CaptureRequestREPROCESS_EFFECTIVE_EXPOSURE_FACTOR android.reprocess.effectiveExposureFactor}，相机设备可以调整其内部边缘增强参数以获得最佳图像质量。<p>
#### 闪光灯模式 FLASH_MODE
相机设备闪光灯控制所需的模式。<p> <p>此控制仅在闪光灯可用时有效（<code>{@link CameraCharacteristicsFLASH_INFO_AVAILABLE android.flash.info.available} == true<code>） .<p> <p>使用此控件时，{@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 必须设置为 ON 或 OFF。否则，相机设备与自动曝光相关的闪光灯控制（ON_AUTO_FLASH、ON_ALWAYS_FLASH 或 ON_AUTO_FLASH_REDEYE）将覆盖此控制。<p> <p>当设置为 OFF 时，相机设备将不会为此拍摄触发闪光灯。<p> < p>当设置为 SINGLE 时，无论相机设备的自动曝光程序的结果如何，相机设备都会闪光。当在静态捕捉情况下使用时，此控件应与自动曝光 (AE) 预捕捉测光序列 ({@link CaptureRequestCONTROL_AE_PRECAPTURE_TRIGGER android.control.aePrecaptureTrigger}) 一起使用，否则可能会导致图像曝光不正确。<p> <p >当设置为 TORCH 时，闪光灯将持续亮起。此模式可用于预览、自动对焦辅助、静止捕捉或视频录制等用例。<p> <p>捕捉中的 {@link CaptureResultFLASH_STATE android.flash.state} 会报告闪光灯状态结果元数据。<p>
#### 热像素模式 HOT_PIXEL_MODE
热像素校正的操作模式。<p> <p>热像素校正会插入或移除不能准确测量入射光的像素（即停留在任意值或过度敏感的像素）
#### JPEG GPS位置 JPEG_GPS_LOCATION
生成图像 GPS 元数据时使用的位置对象。<p> <p>在请求中设置位置对象会将位置的 GPS 坐标包含到根据请求捕获的任何 JPEG 图像中。接收到 JPEG 图像的任何人都可以查看这些坐标
#### JPEG GPS 坐标 JPEG_GPS_COORDINATES

#### JPEG GPS处理方法 JPEG_GPS_PROCESSING_METHOD
包含在 EXIF 中的 32 个描述 GPS 算法的字符。<p> <p>此标签也用于 HEIC 图像捕获。<p> <p>此密钥适用于所有设备
#### JPEG GPS 时间戳 JPEG_GPS_TIMESTAMP

#### JPEG 方向 JPEG_ORIENTATION
JPEG 图像的方向。<p> <p>相对于相机方向的顺时针旋转角度（以度为单位），JPEG 图片需要旋转，才能直立观看。<p> <p>相机设备可以将此值编码到 JPEG EXIF 标头中，或者旋转图像数据以匹配此方向。当图像数据旋转时，缩略图数据也将旋转。<p> <p>请注意，此方向是相对于相机传感器的方向，由 {@link CameraCharacteristicsSENSOR_ORIENTATION android.sensor.orientation} 给出。<p > <p>从 Android 传感器 API 提供的设备方向转换为非外部相机传感器
#### JPEG 质量 JPEG_QUALITY
最终 JPEG 图像的压缩质量。<p> <p>85-95 是典型的使用范围。此标签也用于描述 HEIC 图像捕获的质量。<p> <p><b>有效值范围：<b><br> 1-100；越大质量越高
#### JPEG 缩略图质量 JPEG_THUMBNAIL_QUALITY

#### JPEG 缩略图大小 JPEG_THUMBNAIL_SIZE

#### 镜头孔径 LENS_APERTURE
所需的镜头光圈大小，作为镜头焦距与有效光圈直径的比值。<p> <p>仅在具有可变光圈镜头的相机设备上支持设置此值。<p> <p>当此支持且 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 为 OFF，这可以与 {@link CaptureRequestSENSOR_EXPOSURE_TIME android.sensor.exposureTime}、{@link CaptureRequestSENSOR_SENSITIVITY android.sensor.sensitivity} 和 {@link CaptureRequestSENSOR_FRAME_DURATION android 一起设置.sensor.frameDuration} 实现手动曝光控制。<p> <p>请求的光圈值可能需要几帧才能达到请求的值；当光圈发生变化时，相机设备将在捕获结果元数据中报告当前（中间）光圈大小。当光圈仍在变化时，{@link CaptureResultLENS_STATE android.lens.state} 将设置为 MOVING。<p> <p>当它被支持并且 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 是开启模式之一，这将被相机设备自动曝光算法覆盖，然后在相应的结果中将覆盖的值提供给用户。<p> <p><b>单位<b>：f数（fN）
#### 镜头滤镜密度 LENS_FILTER_DENSITY
镜头中性密度滤镜的所需设置。<p> <p>大多数相机设备不支持此控件。<p> <p>镜头滤镜通常用于降低传感器的光量暴露于（以 EV 为单位测量）。此处使用的 EV 步长是标准的对数表示，它是非负的，并且与撞击传感器的光量成反比。例如，将其设置为 0 将不会减少入射光，而将其设置为 2 将意味着将滤镜设置为将入射光减少两档（允许传感器的先前光量的 14）。 <p> <p>在镜头滤镜密度变为所需值之前可能需要几帧。当滤镜密度仍在变化时，{@link CaptureResultLENS_STATE android.lens.state} 将设置为 MOVING。<p> <p><b>单位<b>：曝光值 (EV)
#### 镜头焦距 LENS_FOCAL_LENGTH
所需的镜头焦距；用于光学变焦。<p> <p>此设置控制相机设备镜头的物理焦距。改变焦距会改变相机设备的视野，通常用于光学变焦。<p> <p>如 {@link CaptureRequestLENS_FOCUS_DISTANCE android.lens.focusDistance} 和 {@link CaptureRequestLENS_APERTURE android.lens.aperture} ，此设置不会立即应用，并且可能需要几帧才能将镜头更改为请求的焦距。虽然焦距仍在变化，但 {@link CaptureResultLENS_STATE android.lens.state} 将设置为 MOVING。<p> <p>大多数设备不支持光学变焦
#### 镜头焦距 LENS_FOCUS_DISTANCE
从镜头的最前面测量到最清晰焦平面的所需距离。<p> <p>此控件可用于在支持 MANUAL_SENSOR 功能并具有可变焦镜头的设备上设置手动对焦（请参阅 {@链接 CameraCharacteristicsLENS_INFO_MINIMUM_FOCUS_DISTANCE android.lens.info.minimumFocusDistance})。<p> <p><code>0.0f<code> 的值表示无限远对焦。设置的值将被限制为 <code>[0.0f, {@link CameraCharacteristicsLENS_INFO_MINIMUM_FOCUS_DISTANCE android.lens.info.minimumFocusDistance}]<code>.<p> <p>就像 {@link CaptureRequestLENS_FOCAL_LENGTH android.lens.focalLength}，这个设置不会立即应用，镜头可能需要几帧才能移动到请求的焦距。当镜头仍在移动时，{@link CaptureResultLENS_STATE android.lens.state} 将设置为 MOVING。<p> <p>LEGACY 设备最多支持将其设置为 <code>0.0f<code> 以实现无限远对焦
#### 镜头光学稳定模式 LENS_OPTICAL_STABILIZATION_MODE
设置相机设备在捕获图像时是否使用光学图像稳定 (OIS)。<p> <p>OIS 用于补偿由于相机在捕获过程中的微小移动而导致的运动模糊。与数字图像稳定 ({@link CaptureRequestCONTROL_VIDEO_STABILIZATION_MODE android.control.videoStabilizationMode}) 不同，OIS 使用机械元件来稳定相机传感器，因此在相机抖动变得明显之前允许更长的曝光时间。<p> <p>在不同的光学稳定模式可能需要几帧来初始化，相机设备将在捕获结果元数据中报告当前模式。例如，当请求“ON”模式时，前几次捕获结果中的光学稳定模式可能仍为“OFF”，初始化完成后将变为“ON”。<p> <p>如果相机设备同时支持 OIS 和数字图像稳定 ({@link CaptureRequestCONTROL_VIDEO_STABILIZATION_MODE android.control.videoStabilizationMode})，打开这两种模式可能会产生不良交互，因此建议不要同时启用。<p> <p>不所有设备都将支持 OIS；有关可用控件，请参阅 {@link CameraCharacteristicsLENS_INFO_AVAILABLE_OPTICAL_STABILIZATION android.lens.info.availableOpticalStabilization}。
#### 降噪模式 NOISE_REDUCTION_MODE
降噪算法的操作模式。<p> <p>降噪算法尝试通过消除捕获过程中添加的过多噪声来提高图像质量，尤其是在黑暗条件下。<p> <p>关闭表示不降噪将由相机设备应用于原始和 YUV 域。<p> <p>MINIMAL 表示仅启用传感器原始域基本降噪，以消除去马赛克或其他处理伪影。对于 YUV_REPROCESSING，MINIMAL 与 OFF 相同。此模式是可选的，可能并非所有设备都支持。应用程序应在使用前检查 {@link CameraCharacteristicsNOISE_REDUCTION_AVAILABLE_NOISE_REDUCTION_MODES android.noiseReduction.availableNoiseReductionModes}。<p> <p>FASTHIGH_QUALITY 均表示将应用相机设备确定的噪声过滤。 HIGH_QUALITY 模式表示相机设备将使用最高质量的噪声过滤算法，即使它会降低捕获率。 FAST 意味着相机设备在应用噪声过滤时不会降低捕捉速度。如果列出了 MINIMAL，FAST 可能与 MINIMAL 相同，如果任何噪声过滤会减慢捕获速率，则 FAST 可能与 OFF 相同。每个输出流都将应用类似数量的增强。<p> <p>ZERO_SHUTTER_LAG 旨在供在预览期间保持高分辨率图像的连续循环缓冲区并将该缓冲区中的图像重新处理为由用户触发时的最终捕获。在此模式下，相机设备会对低分辨率流（低于最大录制分辨率）应用降噪以最大限度地提高预览质量，但不会对高分辨率流应用降噪，因为稍后会在必要时重新处理这些流。<p> <p>对于 YUV_REPROCESSING，这些 FASTHIGH_QUALITY 模式都意味着相机设备将分别应用 FASTHIGH_QUALITY YUV 域降噪。如果设置了 {@link CaptureRequestREPROCESS_EFFECTIVE_EXPOSURE_FACTOR android.reprocess.effectiveExposureFactor}，相机设备可以调整降噪参数以获得最佳图像质量。<p>
#### 请求编号 REQUEST_ID
当前请求的应用程序指定 ID。必须在输出帧中保持不变<p> <p><b>Units<b>：应用程序分配的任意整数
#### 缩放作物区域 SCALER_CROP_REGION
为此次捕获读取所需的传感器区域。<p> <p>此控件可用于实现数字缩放。<p> <p>对于不支持 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控件的设备，坐标系始终遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize} 的坐标系，其中 <code>(0, 0)<code> 是活动数组的左上角像素。<p> <p>对于支持 {@link CaptureRequestDISTORTION_CORRECTION_MODE android.distortionCorrection.mode} 控制的设备，坐标系取决于设置的模式。当畸变校正模式关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}，其中 <code>(0, 0)<code> 是预校正活动阵列的左上角像素.当畸变校正模式未关闭时，坐标系遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，其中 <code>(0, 0)<code> 为活动阵列的左上角像素。< p> <p>输出流使用这个矩形来产生它们的输出，必要时裁剪到更小的区域以保持流的纵横比，然后缩放传感器输入以匹配输出的配置分辨率。<p> <p>裁剪区域在 RAW 到其他色彩空间（例如 YUV）的转换之后应用。由于原始流（例如 RAW16）没有转换阶段，因此它们不可裁剪。原始流将忽略裁剪区域。<p> <p>对于非原始流，将执行任何额外的每个流裁剪以最大化流的最终像素区域。<p> <p>例如，如果裁剪区域设置为 4:3 纵横比，则 4:3 流将使用确切的裁剪区域。 16:9 流将进一步垂直裁剪（信箱）。<p> <p>相反，如果裁剪区域设置为 16:9，则 4:3 输出将水平裁剪（邮筒），而 16:9 流将完全匹配。这些额外的裁剪将在裁剪区域内居中。<p> <p>如果坐标系为{@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize}，则裁剪区域的宽度和高度不能设置为小于<code>floor(activeArraySize.width {@link CameraCharacteristicsSCALER_AVAILABLE_MAX_DIGITAL_ZOOM android.scaler.availableMaxDigitalZoom})<code> 和 <code>floor(activeArraySize.height {@link CameraCharacteristicsSCALER_AVAILABLE_MAX_DIGITAL_ZOOM android.scaler.availableMaxDigitalZoom})<code>。<p > <p>如果坐标系为{@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize}，则裁剪区域的宽高不能设置为小于<code>floor( preCorrectionActiveArraySize.width {@link CameraCharacteristicsSCALER_AVAILABLE_MAX_DIGITAL_ZOOM android .scaler.availableMaxDigitalZoom} )<code> 和 <code>floor( preCorrectionActi veArraySize.height {@link CameraCharacteristicsSCALER_AVAILABLE_MAX_DIGITAL_ZOOM android.scaler.availableMaxDigitalZoom} )<code>，分别。<p> <p>相机设备可以调整裁剪区域以适应舍入和其他硬件要求；最终使用的裁剪区域将包含在输出捕获结果中。<p> <p><b>单位<b>：像素坐标相对于 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize} 或 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android .sensor.info.preCorrectionActiveArraySize} 取决于失真校正能力和模式<p> <p>此键适用于所有设备。
#### 传感器曝光时间 SENSOR_EXPOSURE_TIME
每个像素暴露在光线下的持续时间。<p> <p>如果传感器无法准确曝光这个持续时间，它将缩短曝光时间到最接近的可能值（而不是曝光更长时间）。使用的最终曝光时间将在输出捕获结果中可用。<p> <p>此控件仅在 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 或 {@link CaptureRequestCONTROL_MODE android.control.mode} 设置为离开;否则自动曝光算法将覆盖此值。<p> <p><b>单位<b>：纳秒<p> <p><b>有效值范围：<b><br> {@link CameraCharacteristicsSENSOR_INFO_EXPOSURE_TIME_RANGE android.sensor.info.exposureTimeRange}<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null}。<p> <p><b>全功能< b> - 出现在 {@link CameraCharacteristicsINFO_SUPPORTED_HARDWARE_LEVEL android.info.supportedHardwareLevel} 键中报告为 {@link CameraCharacteristicsINFO_SUPPORTED_HARDWARE_LEVEL_FULL HARDWARE_LEVEL_FULL} 设备的所有相机设备上
#### 传感器帧持续时间 SENSOR_FRAME_DURATION
从帧曝光开始到下一帧曝光开始的持续时间。<p> <p>相机子系统可以支持的最大帧速率是许多因素的函数：<p> <ul> <li>要求的分辨率为输出图像流<li> <li>成像器上的分级跳过模式的可用性<li> <li>成像器接口的带宽<li> <li>各种ISP处理块的带宽<li> <ul> < p>由于这些因素在不同的 ISP 和传感器之间可能存在很大差异，因此相机抽象试图用尽可能简单的模型来表示带宽限制。<p> <p>提出的模型具有以下特征：<p> <ul > <li>图像传感器始终配置为根据应用程序请求的输出流大小输出可能的最小分辨率。最小分辨率定义为至少与请求的最大输出流大小一样大；当裁剪区域覆盖整个传感器时，相机管道绝不能对传感器数据进行数字上采样。一般来说，这意味着如果只配置小输出流分辨率，传感器可以提供更高的帧率。<li> <li>由于任何请求都可能使用当前配置的任何或所有输出流，因此传感器和 ISP 必须配置为支持同时将单个捕获扩展到所有流。这意味着相机管道必须准备好生成请求的最大输出大小，而不会有任何延迟。因此，给定配置流集的整体帧速率仅受请求的最大流分辨率控制。<li> <li>在请求中使用多个输出流不会影响帧持续时间。<li> <li>某些格式流可能需要在该流产生的数据被消费之前进行额外的后台处理。这些处理器可以与相机管道的其余部分同时运行，但一次不能处理超过 1 个捕获。<li> <ul> <p>在给定上述模型的情况下，应用程序的必要信息通过 {@链接 android.hardware.camera2.params.StreamConfigurationMapgetOutputMinFrameDuration }。这些用于确定给定流配置可能的最大帧速率最小帧持续时间。<p> <p>具体来说，应用程序可以使用以下规则来确定它可以从相机设备请求的最小帧持续时间： <p> <ol> <li>令当前配置的输入输出流集合称为<code>S<code>。<li> <li>求<code>S<code>中每个流的最小帧持续时间，通过在 {@link android.hardware.camera2.params.StreamConfigurationMapgetOutputMinFrameDuration }（及其各自的 sizeformat）中查找它。让这组帧持续时间称为 <code>F<code>。<li> <li>对于任何给定的请求 <code>R<code>，<code>R<code> 允许的最小帧持续时间是最大值<code>F<code> 中的所有值。让 <code>R<code> 中使用的流被称为 <code>S_r<code>。<li> <ol> <p>如果 <code>S_r<code> 中的流都没有停顿时间（列出在 {@link android.hardware.camera2.params.StreamConfigurationMapgetOutputStallDuration } 使用其各自的大小格式），那么 <code>F<code> 中的帧持续时间决定了应用程序在使用 <code>R 时将获得的稳态帧速率<code> 作为重复请求。让这种特殊类型的请求称为 <code>Rsimple<code>。<p> <p>重复请求 <code>Rsimple<code> 可以<em>偶尔<em>被一个新请求的单个捕获交错<code>Rstall<code>（它至少有一个使用中的流，且停顿时间为非 0）并且如果 <code>Rstall<code> 具有相同的最小帧持续时间，则如果所有这些都不会导致帧速率丢失之前的 <code>Rstall<code> 中的缓冲区已经交付。<p> <p>有关停止的更多详细信息，请参阅 {@link android.hardware.camera2.params.StreamConfigurationMapgetOutputStallDuration }。<p> <p>这控制仅在 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 或 {@link CaptureRequestCONTROL_MODE android.control.mode} 设置为 OFF 时有效；否则自动曝光算法将覆盖该值
#### 传感器灵敏度 SENSOR_SENSITIVITY
处理前应用于传感器数据的增益量。<p> <p>灵敏度是标准 ISO 灵敏度值，如 ISO 12232:2006 中所定义。<p> <p>灵敏度必须在 {@link CameraCharacteristicsSENSOR_INFO_SENSITIVITY_RANGE android .sensor.info.sensitivityRange}，如果它小于 {@link CameraCharacteristicsSENSOR_MAX_ANALOG_SENSITIVITY android.sensor.maxAnalogSensitivity}，则保证相机设备仅使用模拟放大来应用增益。<p> <p>如果相机设备无法应用所要求的准确灵敏度，它会将增益降低到最接近的支持值。最终使用的灵敏度将在输出捕获结果中可用。<p> <p>此控件仅在 {@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} 或 {@link CaptureRequestCONTROL_MODE android.control.mode} 设置为 OFF 时有效;否则自动曝光算法将覆盖此值。<p> <p><b>单位<b>：ISO 算术单位<p> <p><b>有效值范围：<b><br> {@链接 CameraCharacteristicsSENSOR_INFO_SENSITIVITY_RANGE android.sensor.info.sensitiveRange}<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null}。<p> <p><b>完整能力<b> - 出现在所有报告为 {@link CameraCharacteristicsINFO_SUPPORTED_HARDWARE_LEVEL android.info.supportedHardwareLevel} 键中的 {@link CameraCharacteristicsINFO_SUPPORTED_HARDWARE_LEVEL_FULL HARDWARE_LEVEL_FULL} 设备的相机设备上
#### 传感器测试模式数据 SENSOR_TEST_PATTERN_DATA

#### 传感器测试模式模式 SENSOR_TEST_PATTERN_MODE

#### 着色模式 SHADING_MODE
应用于图像数据的镜头阴影校正质量。<p> <p>当设置为关闭模式时，相机设备将不应用镜头阴影校正，如果 <code>{ @link CaptureRequestSTATISTICS_LENS_SHADING_MAP_MODE android.statistics.lensShadingMapMode} == ON<code>。例如，对于大小为 <code>[ 4, 3 ]<code> 的镜头着色图，这种情况的输出 {@link CaptureResultSTATISTICS_LENS_SHADING_CORRECTION_MAP android.statistics.lensShadingCorrectionMap} 将是如下所示的恒等图.当设置为其他模式时，相机设备将应用镜头阴影校正。应用程序可以通过将{@link CaptureRequestSTATISTICS_LENS_SHADING_MAP_MODE android.statistics.lensShadingMapMode}设置为ON来请求镜头着色图数据，然后相机设备将在{@link CaptureResultSTATISTICS_LENS_SHADING_CORRECTION_MAP android.statistics.lensShadingCorrectionMap}中提供镜头着色图数据；返回的着色贴图数据将是相机设备为此捕获请求应用的数据。<p> <p>着色贴图数据可能取决于自动曝光 (AE) 和 AWB 统计数据，因此贴图数据的可靠性可能会受到 AE 和 AWB 算法的影响。当 AE 和 AWB 处于 AUTO 模式时（{@link CaptureRequestCONTROL_AE_MODE android.control.aeMode} <code>!=<code> OFF 和 {@link CaptureRequestCONTROL_AWB_MODE android.control.awbMode} <code>!=<code> OFF），为获得最佳效果，建议应用程序在使用返回的着色贴图数据之前等待 AE 和 AWB 收敛。
#### 统计人脸检测模式 STATISTICS_FACE_DETECT_MODE
人脸检测单元的操作模式。<p> <p>是否启用人脸检测，以及是否应仅输出基本字段或完整字段集
#### 统计热像素图模式 STATISTICS_HOT_PIXEL_MAP_MODE
热像素图生成的操作模式。<p> <p>如果设置为 <code>true<code>，则在 {@link CaptureResultSTATISTICS_HOT_PIXEL_MAP android.statistics.hotPixelMap} 中返回热像素图。如果设置为 <code>false<code>，则不会返回热像素图
#### 统计镜头着色贴图模式 STATISTICS_LENS_SHADING_MAP_MODE
相机设备是否会在输出结果元数据中输出镜头着色贴图。<p> <p>设置为ON时，将在输出结果元数据中提供android.statistics.lensShadingMap。<p> <p>始终支持ON在具有 RAW 功能的设备上。
#### 统计 OIS 数据模式 STATISTICS_OIS_DATA_MODE
用于选择是否将光学稳定 (OIS) 位置信息包含在输出结果元数据中的控件。<p> <p>由于光学图像稳定通常比单个图像曝光的持续时间快得多，因此可以包含多个 OIS 样本单次捕获结果。例如，如果 OIS 报告以 200 Hz 运行，则以 30fps 运行的典型相机每个捕获结果可能有 6-7 个 OIS 样本。此信息可以与滚动快门偏差结合起来，以在后处理算法中解释图像曝光期间的镜头运动
#### 色调图曲线蓝色 TONEMAP_CURVE_BLUE
蓝色通道的色调映射对比度伽马曲线，在 {@link CaptureRequestTONEMAP_MODE android.tonemap.mode} 为 CONTRAST_CURVE 时使用
#### TONEMAP_CURVE_GREEN

#### TONEMAP_CURVE_RED

#### 色调图曲线 TONEMAP_CURVE
当 {@link CaptureRequestTONEMAP_MODE android.tonemap.mode} 为 CONTRAST_CURVE 时要使用的色调映射对比度伽马曲线。<p> <p>tonemapCurve 由分别用于红色、绿色和蓝色通道的三个曲线组成。以下示例以红色通道为例。相同的逻辑适用于绿色和蓝色通道。每个通道的曲线由一组控制点定义：<p> <pre><code>curveRed = [ P0(in, out), P1(in, out), P2(in, out), P3(in, out ), ..., PN(in, out) ] 2 <= N <= {@link CameraCharacteristicsTONEMAP_MAX_CURVE_POINTS android.tonemap.maxCurvePoints}<code><pre> <p>这些按升序排列<code>Pin<代码>;始终保证输入值 0.0 和 1.0 包含在列表中以定义完整的映射。对于控制点之间的输入值，相机设备必须在控制点之间进行线性插值。<p> <p>每条曲线可以有独立的点数，点数可以小于max（即请求不必总是提供点数等于 {@link CameraCharacteristicsTONEMAP_MAX_CURVE_POINTS android.tonemap.maxCurvePoints}) 的曲线。<p> <p>对于具有 MONOCHROME 功能的设备，所有三个通道必须具有相同的控制点集.<p> <p>几个例子，以及它们对应的图形映射；为简洁起见，这些仅指定红色通道，精度限制为 4 位。
#### 色调映射模式 TONEMAP_MODE
高级全局对比度gammatonemapping控制。<p> <p>当通过将 {@link CaptureRequestTONEMAP_MODE android.tonemap.mode} 设置为 CONTRAST_CURVE 切换到应用程序定义的对比度曲线时，曲线是使用一组 <code 为每个通道定义的>(in, out)<code> 点，指定从输入高位深度像素值到输出低位深度值的映射。由于输入和输出的实际像素范围可能会根据相机管道而变化，因此这些值由归一化的浮点数指定。<p> <p>更复杂的颜色映射操作，例如 3D 颜色查找表，当 {@link CaptureRequestTONEMAP_MODE android.tonemap.mode} 为 CONTRAST_CURVE 时，选择性色度增强或其他非线性颜色变换将被禁用。<p> <p>当使用 FAST 或 HIGH_QUALITY 时，相机设备将发出自己的色调映射曲线在 {@link CaptureRequestTONEMAP_CURVE android.tonemap.curve}。这些值始终可用，并且尽可能接近实际使用的非线性非全局变换。<p> <p>如果使用相机设备提供的 FAST 或 HIGH_QUALITY 曲线使用 CONTRAST_CURVE 发送请求，则图像的色调映射将大致相同.
#### TONEMAP_GAMMA
当 {@link CaptureRequestTONEMAP_MODE android.tonemap.mode} 为 GAMMA_VALUE<p> <p>色调映射曲线将使用以下公式定义： OUT = pow(IN, 1.0 gamma) 其中 IN 和 OUT 是输入像素值缩放到 [0.0, 1.0] 范围内，pow 是幂函数，gamma 是此键指定的 gamma 值。<p> <p>相同的曲线将应用于所有颜色通道。相机设备可以将输入伽马值裁剪到其支持的范围。实际应用的值将在捕获结果中返回。<p> <p>伽马值的有效范围因设备而异，但保证[1.0, 5.0]内的值不会被裁剪
#### 色调映射预设曲线 TONEMAP_PRESET_CURVE
当 {@link CaptureRequestTONEMAP_MODE android.tonemap.mode} 为 PRESET_CURVE<p> <p>色调映射曲线将由指定标准定义时使用的色调映射曲线。<p> <p>sRGB（约 16 个控制点）：<p > <p>
#### LED_TRANSMIT
他的 LED 名义上用于向用户指示相机已开启，并且可能正在将图像流式传输回应用处理器。在某些极少数情况下，当视频在本地处理并且未传输到任何不受信任的应用程序时，操作系统可能会禁用此功能。<p> <p>特别是，当数据可以传输时，LED <em>必须<em>始终亮起关闭设备。每当数据本地存储在设备上时，LED <em>应该<em>始终亮起。<p> <p>如果受信任的应用程序正在使用不违反上述规定
####  BLACK_LEVEL_LOCK
黑电平补偿是锁定为其当前值，还是可以自由变化。<p> <p>当设置为 <code>true<code> (ON) 时，用于黑电平补偿的值不会改变，直到锁定设置为 <code>false<code> (OFF)。<p> <p>由于某些捕捉参数（如曝光时间）的更改可能需要重置黑电平补偿，因此相机设备必须报告是否设置输出结果元数据中黑电平锁成功。<p> <p>例如，如果一个请求序列如下：<p> <ul> <li>请求1：曝光=10ms，黑电平锁=OFF <li> <li>请求 2：曝光 = 10ms，黑电平锁定 = ON<li> <li>请求 3：曝光 = 10ms，黑电平锁定 = ON<li> <li>请求 4：曝光 = 20ms，黑色level lock = ON<li> <li>请求 5：曝光 = 20ms，Black level lock = ON<li> <li>Request 6：Exposure = 20ms，Black level lock = ON<li> <ul> <p>并且请求 4 中的曝光变化需要相机设备重置黑电平偏移，t则输出结果元数据预计为：<p> <ul> <li>结果 1：曝光 = 10ms，黑电平锁定 = OFF<li> <li>结果 2：曝光 = 10ms，黑电平锁定 = ON< li> <li>结果 3：曝光 = 10ms，黑电平锁定 = ON<li> <li>结果 4：曝光 = 20ms，黑电平锁定 = OFF<li> <li>结果 5：曝光 = 20ms，黑电平lock = ON<li> <li>结果 6：Exposure = 20ms, Black level lock = ON<li> <ul> <p>这向应用程序表明，在第 4 帧，由于曝光值的变化，黑电平被重置，和像素值可能在捕获之间不一致。<p> <p>相机设备将尽可能保持锁定，仅当更改其他请求参数需要重新计算或重置黑电平时，才会将锁定覆盖为 OFF。<p > <p><b>可选<b> - 此键的值在某些设备上可能是 {@code null}。<p> <p><b>完整功能<b> - 存在于所有报告的相机设备上正在 {@link CameraCharacteristicsINFO_SUPPORTED_HARDWARE_LEVEL_FULL HARDWARE_LEVEL {@link CameraCharacteristicsINFO_SUPPORTED_HARDWARE_LEVEL android.info.supportedHardwareLevel} 键中的 _FULL} 个设备
#### 重新处理有效曝光系数 REPROCESS_EFFECTIVE_EXPOSURE_FACTOR
在发送重新处理之前由应用程序处理应用到原始输出帧的曝光时间增加因子的数量。<p> <p>这是可选的，如果相机设备支持 YUV_REPROCESSING 功能（{@link CameraCharacteristicsREQUEST_AVAILABLE_CAPABILITIES android. request.availableCapabilities} 包含 YUV_REPROCESSING)。<p> <p>对于某些 YUV 再处理用例，应用程序可能会选择过滤原始输出帧，以有效地将噪声降低到与使用较长曝光时间捕获的帧相同的水平.更具体地说，假设原始捕获的图像是以 S 的灵敏度和 T 的曝光时间捕获的，相机设备中的模型是图像中的噪声量将近似于原始捕获时的预期值参数是 SeffectiveExposureFactor 的灵敏度和 TeffectiveExposureFactor 的曝光时间，而不是分别为 S 和 T。如果捕获的图像在发送以进行重新处理之前由应用程序处理，则应用程序可能已使用图像处理算法和或多帧图像融合来减少应用程序处理的图像（输入图像）中的噪声。通过使用有效的ExposureFactor 控件，应用程序可以向相机设备传达应用程序处理的图像中实际噪声水平的改善情况。有了这些信息，摄像头设备可以选择合适的降噪和边缘增强参数，避免过度降噪（{@link CaptureRequestNOISE_REDUCTION_MODE android.noiseReduction.mode}）和边缘增强不足（{@link CaptureRequestEDGE_MODE android.edge.mode}）应用于重新处理的帧。<p> <p>例如，对于多帧图像融合用例，应用程序可以将多个输出帧融合在一起以形成最终帧以进行重新处理。当 N 幅图像融合为 1 幅图像进行再处理时，曝光时间增加因子可能高达 N 的平方根（基于简单的光子散粒噪声模型）。相机设备将相应地调整再处理降噪和边缘增强参数以产生最佳质量的图像。<p> <p>这是相对因素，1.0表示应用程序没有以影响其效果的方式处理输入缓冲区曝光时间。<p> <p>此控件仅对 YUV 重新处理捕获请求有效。对于降噪再处理，只有在<code>{@link CaptureRequestNOISE_REDUCTION_MODE android.noiseReduction.mode} != OFF<code>时有效。同样，对于边缘增强再处理，只有在 <code>{@link CaptureRequestEDGE_MODE android.edge.mode} != OFF<code>.<p> <p><b>Units<b> 时有效。：相对曝光时间增加因素。
#### 失真校正模式 DISTORTION_CORRECTION_MODE
镜头畸变校正模块的操作模式。<p> <p>镜头畸变校正模块尝试通过修复相机设备光学器件中的径向、切向或其他几何像差来提高图像质量。如果可用，{@link CameraCharacteristicsLENS_DISTORTION android.lens.distortion} 字段会记录镜头的失真参数。<p> <p>OFF 表示未进行失真校正。<p> <p>FASTHIGH_QUALITY 均表示相机设备确定的失真校正将被应用。 HIGH_QUALITY 模式表示相机设备将使用最高质量的校正算法，即使它会降低捕获率。 FAST 意味着相机设备在应用校正时不会降低捕捉速度。如果任何校正都会减慢捕获速率，FAST 可能与 OFF 相同。每个输出流都将应用类似数量的增强。<p> <p>校正仅适用于已处理的输出，例如 YUV、Y8、JPEG 或 DEPTH16；它不适用于任何 RAW 输出。<p> <p>默认情况下，此控件将在支持此控件的设备上打开。禁用失真校正的应用程序需要特别注意测光区域、裁剪区域和面部矩形的坐标系。当失真校正关闭时，元数据坐标遵循 {@link CameraCharacteristicsSENSOR_INFO_PRE_CORRECTION_ACTIVE_ARRAY_SIZE android.sensor.info.preCorrectionActiveArraySize} 的坐标系。当畸变未关闭时，元数据坐标遵循 {@link CameraCharacteristicsSENSOR_INFO_ACTIVE_ARRAY_SIZE android.sensor.info.activeArraySize} 的坐标系。相机设备将映射这些元数据字段以匹配相机设备生成的校正图像，用于捕获请求和结果。但是，这种映射不是很精确，因为矩形在校正时通常不会映射到矩形。仅在活动阵列和预校正活动阵列坐标之间执行线性缩放。需要对元数据进行精确校正的应用程序需要撤消该线性缩放，并应用考虑到应用程序自身要求的更完整的校正。<p> <p>以这种方式受失真校正影响的元数据的完整列表是：<p> <ul> <li>{@link CaptureRequestCONTROL_AF_REGIONS android.control.afRegions}<li> <li>{@link CaptureRequestCONTROL_AE_REGIONS android.control.aeRegions}<li> <li>{@link CaptureRequestCONTROL_AWB_REGIONS android.control .awbRegions}<li> <li>{@link CaptureRequestSCALER_CROP_REGION android.scaler.cropRegion}<li> <li>{@link CaptureResultSTATISTICS_FACES android.statistics.faces}<li> <ul> <p><b>可能的值： <b> <ul> <li>{@link DISTORTION_CORRECTION_MODE_OFF OFF}<li> <li>{@link DISTORTION_CORRECTION_MODE_FAST FAST}<li> <li>{@link DISTORTION_CORRECTION_MODE_HIGH_QUALITY HIGH_QUALITY}<li> <ul><p> <p ><b>此设备的可用值：<b><br> {@link CameraCharacteristicsDISTORTION_CORRECTION_AVAILABLE_MODES android.distort ionCorrection.availableModes}<p> <p><b>可选<b> - 在某些设备上，此键的值可能是 {@code null}。



