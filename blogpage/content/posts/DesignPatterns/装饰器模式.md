+++
date = "2021-2-20"
title = "装饰器模式"
description = "装饰器模式"
series = ["设计模式"]
featured = true
slug = "design_pattern_decorator_mode"
+++
![](https://gitee.com/lalalaxiaowifi/pictures/raw/master/image/%E6%97%A5%E5%B8%B8%E6%90%AC%E7%A0%96%E5%A4%B4.png)
> 顺便推一下[博客主页](http://lalalaxiaowifi.gitee.io/pictures/)
## 正文
> 主要详细理解设计模式。感觉这个设计模式蛮重要的。[内容来源](http://c.biancheng.net/view/1330.html)
### 装饰器模式
> 看介绍怎么感觉和dagger2 和桥接模式这么像，不过定义上:指在不改变现有对象结构的情况下，动态的给该对象增加一些职责。
> 而桥接模式是抽象与实现分离。等于说其实装饰器模式和dagger2是最接近的。但是有一个词很重要职责。和dagger2 基础增加变量还是有区别的。
#### 模式结构
* 抽象构建角色 component，定义一个抽象接口以规范准备接收附加责任对象。
* 具体构建角色 concretecomponent，实现抽象构建，通过装饰角色为其添加一些职责。
* 抽象装饰角色 decorator，继承抽象构建，包含具体构建的实例，可以通过其子类扩展具体构建功能。
* 具体装饰角色 concreteDecorator,实现抽象装饰的相关方法，并给具体构件对象添加附加的责任。
#### 应用场景
* 需要对一个类添加附加功能，又不能采用生成子类的方法进行扩展的时候。比如该类被隐藏或者该类是终极类或者采用继承方式会产生大量的子类。
* 当对象的功能要求可以动态添加，也可以动态撤销的时候。
* 当需要通过现有的一组基本功能进行排列组合而产生非常多的功能的时候。继承就很难理继承逻辑。通过加方法就可以。
### 非场景使用感悟
* 对一个类增加功能，其实变量也是功能，对于将变量加到对象中好像不行。常用增加功能一般是继承，继承可以增加变量方法什么的。
* 看写法，现在还是没有感受到这种写法的好处。
* 可能对于大对象中，只是针对小部分进行增加功能，这么写，会不会好一点。只是在扩展功能，内存会不会小一点。 